[source]
    sourceDir = ".chezmoi"

[data]
    os = "{{ .chezmoi.os }}"
    arch = "{{ .chezmoi.arch }}"
    hostname = "{{ .chezmoi.hostname }}"
    # 代理配置（严格区分 OS 与 WSL：WSL 下默认宿主机 IP，原生 Linux/macOS/Windows 为 127.0.0.1）
    proxy = "{{ or (env \"PROXY\") (env \"http_proxy\") (output \"sh\" \"-c\" \"if [ \\\"$(uname -s)\\\" != \\\"Linux\\\" ]; then echo \\\"http://127.0.0.1:7890\\\"; elif grep -qEi Microsoft /proc/version 2>/dev/null; then h=$(awk '/^nameserver / {print \\$2; exit}' /etc/resolv.conf 2>/dev/null); [ -n \\\"$h\\\" ] && echo \\\"http://\\\"$h\\\":7890\\\" || echo \\\"http://127.0.0.1:7890\\\"; else echo \\\"http://127.0.0.1:7890\\\"; fi\" | trim) }}"
    proxy_host = "{{ or (env \"PROXY_HOST\") (output \"sh\" \"-c\" \"if [ \\\"$(uname -s)\\\" != \\\"Linux\\\" ]; then echo 127.0.0.1; elif grep -qEi Microsoft /proc/version 2>/dev/null; then awk '/^nameserver / {print \\$2; exit}' /etc/resolv.conf 2>/dev/null || echo 127.0.0.1; else echo 127.0.0.1; fi\" | trim) }}"
    proxy_port = "7890"
    # 平台特定的包管理器（使用静态检测，避免 exec 导致卡住）
    # 注意：exec 函数在模板解析时执行外部命令，可能导致卡住
    # 改为在运行时通过脚本检测，这里只设置默认值
    package_manager = "{{ if eq .chezmoi.os \"linux\" }}pacman{{ else if eq .chezmoi.os \"darwin\" }}brew{{ else if eq .chezmoi.os \"windows\" }}winget{{ else }}unknown{{ end }}"
    # Git 全局配置（请在 .chezmoi.toml.local 或 env 中设置真实值，避免敏感信息进仓库）
    git_user_name = ""
    git_user_email = ""
    # Windows 下 SSH ProxyCommand 使用的 connect.exe 路径（若 Git 安装在其他盘符请修改）
    windows_git_connect_path = "C:/Program Files/Git/mingw64/bin/connect.exe"
    # macOS 下 SSH ProxyCommand 必须使用 connect 的绝对路径（GUI 如 Obsidian 不继承 shell PATH，否则会 exec: connect: not found）
    # Apple Silicon 默认 /opt/homebrew/bin/connect；Intel/旧 Homebrew 请在 .chezmoi.toml.local 中设为 "/usr/local/bin/connect"
    macos_connect_path = "/opt/homebrew/bin/connect"
    # macOS 经代理时：-H = HTTP 代理（Clash 等），-S = SOCKS；按本机代理类型在 .chezmoi.toml.local 中可覆盖
    macos_proxy_connect_opt = "-S"
    # SSH IdentityFile（如使用 id_ed25519 可在此修改）
    identity_file = "~/.ssh/id_rsa"

[git]
    autoCommit = false
    autoPush = false
